// ==UserScript==
// @name         Zendesk merge asignee seatbelt by Grzegorz Ptaszynski
// @namespace    http://tampermonkey.net/
// @version      2024-12-28
// @description  macro helper to ease the pasting of templates
// @author       Grzegorz Ptaszynski
// @match        https://ryanairsupport.zendesk.com/agent/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        GM_openInTab
// ==/UserScript==
//Set your exact zendesk name below, inside the parentheses, and test if it works (stops you merging someone elses case, but not yours)
const agentName = 'CSW Grzegorz Ptaszynski'
//dont modify anything below unless you want to go on an adventure
let cooldown = false
function check(){
    const displayCheck = document.getElementById("ticket-merge").style.display
    if(!cooldown){
if(displayCheck!='none'&&findDivByText(agentName)==null){alert(`${agentName} NOT ASSIGNED TO CASE`);
    cooldown = true;setTimeout(() => {cooldown = false}, 15000);}
}
   }
function findDivByText(targetText) {
    const divs = document.querySelectorAll("div"); 
    console.log(divs)
    for (let div of divs) {
        if (div.innerText.trim() === targetText) {
            return div;
        }
    }
    return null;
}
document.addEventListener('mousedown', check);
